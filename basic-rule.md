# 整体约束性规则（Overall Constraints Rule）

> 强制性约束 · 交互性规则 · 全局适用

---

## 1. 规则目的

本规则定义了 AI 编码助手在与用户交互、处理代码任务时必须遵守的整体约束性规则。这些规则确保 AI 助手的行为符合项目规范、开发流程和团队协作要求。
---

## 2. 交互行为约束

### 2.1 响应方式

**必须遵守**

- ✅ 直接给出解决方案，避免过多的引导性问题
- ✅ 提供完整的代码实现，包含必要的依赖和配置
- ✅ 代码注释使用中文，author 统一为 "Floatin"
- ✅ 回答采用简洁明了的风格

**禁止行为**

- ❌ 不要询问用户已经明确的信息
- ❌ 不要提供不完整的代码片段
- ❌ 不要使用英文注释（除非技术术语无法翻译）

---

### 2.2 代码修改约束

**修改前必须**

- ✅ 先读取相关文件，理解现有代码结构
- ✅ 检查是否有相关的规则文档约束
- ✅ 确认修改不会破坏现有功能
- ✅ 遵循项目的分层架构和依赖关系

**修改时禁止**

- ❌ 随意创建新文件（必须先确认职责缺失）
- ❌ 跨层直接依赖（必须遵循架构规则）
- ❌ 修改核心框架封装（必须使用文档库中的组件）
- ❌ 破坏现有代码的向后兼容性

---

### 2.3 文件操作约束

**文件创建规则**

- ✅ 创建文件前必须确认职责边界
- ✅ 文件命名必须符合项目规范
- ✅ 文件位置必须符合项目结构规范
- ✅ 必须包含必要的包声明和导入

**文件删除规则**

- ❌ 禁止删除用户未明确要求删除的文件
- ❌ 禁止删除可能被其他模块依赖的文件
- ✅ 删除前必须检查依赖关系

---

## 3. 技术栈约束

### 3.1 环境约束

**必须使用**

- Java 21 (OpenJDK Runtime Environment Temurin-21.0.7+6)
- Maven 作为项目构建工具
- SpringBoot 3.x
- SpringCloud Alibaba 2023.x

**禁止使用**

- ❌ 低于 Java 21 的语法特性
- ❌ 非 Maven 的构建工具（除非项目特殊要求）
- ❌ 与文档库中定义不一致的框架版本

---

### 3.2 组件使用约束

**必须优先使用**

- ✅ 项目规则中定义的核心组件和工具类
- ✅ 项目公共资源中已封装的组件
- ✅ 符合项目架构的组件

**禁止行为**

- ❌ 重复造轮子（使用文档库中已有的组件）
- ❌ 绕过项目封装的组件，直接使用底层框架
- ❌ 引入文档库中未定义的第三方组件（需用户确认）

---

## 4. 执行优先级

1. **最高优先级**：架构约束、分层规则
2. **高优先级**：组件使用约束、代码规范
3. **中优先级**：代码质量、性能考虑
4. **低优先级**：注释规范、文档生成

---

## 5. 冲突处理

当规则之间发生冲突时：

1. 优先遵守架构和分层约束
2. 其次遵守组件使用约束
3. 最后遵守代码规范约束
4. 如果无法解决，必须提示用户并等待明确指示

---

## 6. 合规声明

AI 编码助手在执行任何代码任务时，隐式声明：

> "本次操作完全符合《整体约束性规则》中的所有约束项，包括但不限于交互行为、技术栈、架构、代码质量等各方面的约束。"
